<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>50 Anos do Paulo</title>

        <script src="https://cdn.tailwindcss.com"></script>

        <style>
            /* ensure the variable exists immediately to avoid layout jump */
            :root {
            --nav-height: 0px;
            }

            /* main will be pushed down by the nav's computed height */
            main {
            padding-top: var(--nav-height);
            }
        </style>
    </head>
    <body class="flex flex-col min-h-screen bg-gray-50 text-gray-800">

        <nav id="site-nav"
            class="fixed top-0 left-0 w-full z-50
                    bg-gradient-to-r from-black from-15% to-red-900 to-85%
                    text-white shadow px-4 md:px-8 py-3 md:py-5
                    grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] items-center gap-2">

            <!-- LEFT spacer only visible on md+ (balances the right links so the title is centered) -->
            <div class="hidden md:block"></div>

            <!-- CENTER title (always centered visually) -->
            <h1 class="justify-self-center text-2xl md:text-4xl font-bold">
                50 anos do Paulo
            </h1>

            <!-- RIGHT links: centered on mobile, aligned to end on md+; side-by-side with gap -->
            <ul class="flex justify-center md:justify-end gap-4 md:gap-8 text-lg">
                <li><a href="#main_block" class="hover:text-black">Home</a></li>
                <li><a href="#confirme_block" class="hover:text-black">Confirmar Presen√ßa</a></li>
                <li><a href="#info_block" class="hover:text-black">Informa√ß√µes</a></li>
            </ul>
        </nav>

        <!-- Main content expands to fill space -->
        <main id="main_block" class="flex-grow text-center m-0">

            <section class="relative h-screen bg-[url('assets/formula1.jpg')] bg-cover bg-center m-0 p-0">
                <!-- Dark overlay only inside this section -->
                <div class="absolute inset-0 bg-black/50"></div>

                <!-- Content centered vertically + horizontally -->
                <div class="relative z-10 flex flex-col items-center justify-start h-full text-white p-6">
                    <h2 class="text-2xl font-bold mb-2 mt-4">Venha comemorar dia 20 de Dezembro com ele!!!</h2>
                    <a href="#confirme_block" class="mt-4 px-6 py-3 bg-red-900 text-white rounded-lg hover:bg-black hover:border">
                        Confirme sua presen√ßa
                    </a>

                </div>
            </section>

            <section id="confirme_block" class="relative h-screen bg-[url('assets/birthday_background.jpg')] bg-cover bg-center m-0 p-0">
                <div class="flex items-center justify-center h-full">
                    <form class="bg-white/70 backdrop-blur-md p-8 rounded-lg shadow-lg w-96">
                        <h2 class="text-2xl font-bold mb-6 text-center">Confirme sua presen√ßa üéâ</h2>

                        <div class="mb-4">
                            <label class="block text-black mb-2" for="name">Nome</label>
                            <input id="name" name="name" type="text" placeholder="Seu nome" class="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-purple-500" />
                        </div>

                        <div class="mb-4">
                            <label class="block text-black mb-2" for="email">Email</label>
                            <input id="email" name="email" type="email" placeholder="Seu email" class="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-purple-500" />
                        </div>

                        <div class="mb-4">
                            <label class="block text-black mb-2" for="outros">Outros convidados</label>
                            <input id="outros" name="outros" type="text" placeholder="Nomes dos outros convidados (se houver)" class="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-purple-500" />
                        </div>

                        <div class="mb-6">
                            <label class="block text-black mb-2" for="message">Mensagem</label>
                            <textarea id="message" name="message" rows="3" placeholder="Deixe sua mensagem..." class="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-purple-500"></textarea>
                        </div>

                        <!-- <button type="submit" class="w-full bg-gradient-to-r from-black from-15% to-red-900 to-85% text-white py-2 rounded hover:bg-black transition"> -->
                        <button type="submit" class="w-full bg-red-900 text-white py-2 rounded hover:bg-black transition">
                            Enviar
                        </button>

                        <p id="status" class="mt-4 text-center text-gray-700 hidden">Enviando...</p>

                        <div id="captcha" class="g-recaptcha hidden" data-sitekey="6Ld5YQUsAAAAALhx6yCDyvMdp85N-kgEUN7RZuvu"></div>
                    </form>
                </div>
            </section>

            <section id="info_block" class="relative h-screen bg-[#BFBFBF] flex flex-col md:flex-row items-center justify-center p-8 gap-8">
                <!-- Map block -->
                <div class="w-full md:w-1/2 h-60 md:h-[80%] rounded-lg overflow-hidden shadow-lg">
                    <iframe 
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1921362.6032531222!2d-46.81966365169191!3d-23.966410969997185!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94c9fbec5da0393d%3A0x73788f867dc3f357!2sButeco%20da%20Ro%C3%A7a!5e0!3m2!1spt-BR!2sit!4v1762476111653!5m2!1spt-BR!2sit" 
                    class="w-full h-full border-0"
                    loading="lazy"
                    allowfullscreen
                    referrerpolicy="no-referrer-when-downgrade">
                    </iframe>

                     
                </div>

                <!-- Info block -->
                <div class="w-full md:w-1/2 bg-white/80 backdrop-blur-md rounded-lg shadow-lg p-8">
                    <h2 class="text-3xl font-bold mb-4 text-center text-red-900">Informa√ß√µes da Festa üéâ</h2>
                    <p class="text-lg mb-4 text-gray-800">
                    Venha celebrar os <span class="font-semibold">50 anos do Paulo</span> com muita m√∫sica, boa comida e √≥timas companhias!
                    </p>
                    <ul class="text-left text-gray-700 space-y-3">
                    <li><strong>üìÖ Data:</strong> 20 de Dezembro de 2025</li>
                    <li><strong>üïñ Hor√°rio:</strong> A partir das 12h</li>
                    <li><strong>üìç Local:</strong> Buteco da Ro√ßa (Estrada Mun, Bandeira do Sul - MG, 37730-000, Brasil)</li>
                    <li><strong>ü§µüèª Traje:</strong> Casual</li>
                    </ul>

                    <div class="text-center mt-6">
                    <a href="https://maps.app.goo.gl/PbWRaNKSuLS1ZE9G6" target="_blank"
                        class="inline-block px-6 py-3 bg-red-900 text-white rounded-lg hover:bg-black transition">
                        Ver rota no Google Maps
                    </a>
                    </div>
                </div>
            </section>

        </main>

        <!-- Footer sticks to bottom -->
        <footer class="text-center text-white py-6 bg-gray-800 m-0">
            ¬© 2025 Jo√£o Marrey Mendon√ßa. All rights reserved.
        </footer>

        <!-- Script that measures the nav and updates the CSS variable -->
        <script>
            (function() {
            const nav = document.getElementById('site-nav');

            function updateNavHeight() {
                if (!nav) return;
                // offsetHeight includes padding + border; good for layout offset
                const h = nav.offsetHeight;
                document.documentElement.style.setProperty('--nav-height', `${h}px`);
            }

            // update on load and on resize
            window.addEventListener('load', updateNavHeight);
            window.addEventListener('resize', updateNavHeight);

            // also observe mutations in case nav's content changes size (optional but robust)
            if (window.MutationObserver) {
                const observer = new MutationObserver(() => updateNavHeight());
                observer.observe(nav, { childList: true, subtree: true, attributes: true });
            }
            })();
        </script>

        <script src="https://www.google.com/recaptcha/api.js" async defer></script>

    </body>

    <script>
        document.querySelector("form").addEventListener("submit", async function(e) {
            e.preventDefault();

            const status = document.getElementById("status");
            status.classList.remove("hidden");
            status.textContent = "Enviando...";

            const captcha = document.getElementById("captcha")
            captcha.classList.remove("hidden")

            const recaptchaResponse = grecaptcha.getResponse();
            if (!recaptchaResponse) {
                status.textContent = "Por favor, confirme que voc√™ n√£o √© um rob√¥ ü§ñ";
                return;
            }

            const formData = {
                nome: document.getElementById("name").value,
                email: document.getElementById("email").value,
                outros: document.getElementById("outros").value,
                mensagem: document.getElementById("message").value,
                token: "mySuperSecretToken123"
            };
        
            await fetch(
            "https://script.google.com/macros/s/AKfycbw0NZeXh6-yY7_IhEP3fHg40GeqMu67eVF62LOdX9NRQq762j5fzW9lOOhQz0gUdHE/exec",
            {
                method: "POST",
                mode: "no-cors",        // üëà disables browser CORS checks
                body: JSON.stringify(formData),
                headers: { "Content-Type": "application/json" }
            }
            );
            status.textContent = "Confirma√ß√£o enviada com sucesso! üéâ";
            e.target.reset();

        });
    </script>

</html>

